# backup-network-configuration
  Желілік құрылғы істен шыққан кезде, бірінші сұрақ бэкап қайда?
  Осы сұраққа жауап беру үшін құрылғылардың операциялық жүйесіне еңгізілген және сыртқы жүйелермен резервтік көшірмесін шешу жолдарын қарастырайық. Мән беретін екі негізгі элемент бар: құрылғылардың конфигурациясының резервтік көшірмесіне түрткі болатын іс-қимыл және қауіпсіздік.
  𝗖𝗶𝘀𝗰𝗼 вендорының желілік құрылғыларында:
1. Мәжбүрлі түрде қазіргі конфигурация көшіру:
𝘤𝘰𝘱𝘺 𝘳𝘶𝘯𝘯𝘪𝘯𝘨-𝘤𝘰𝘯𝘧𝘪𝘨 {𝘵𝘧𝘵𝘱|𝘧𝘵𝘱|𝘴𝘧𝘵𝘱|𝘴𝘤𝘱|𝘩𝘵𝘵𝘱}://<𝘚𝘌𝘙𝘝𝘌𝘙_𝘐𝘗>/<𝘊𝘖𝘕𝘍𝘐𝘎𝘜𝘙𝘈𝘛𝘐𝘖𝘕_𝘍𝘐𝘓𝘌_𝘕𝘈𝘔𝘌/
2. Автоматты түрде конфигурацияны сақтау командасы еңгізілгенде немесе белгілі бір уақыт мезгілінде 𝗔𝗿𝗰𝗵𝗶𝘃𝗲 арқылы резервтік көшіру:
𝘙𝘰𝘶𝘵𝘦𝘳(𝘤𝘰𝘯𝘧𝘪𝘨)#𝘢𝘳𝘤𝘩𝘪𝘷𝘦
𝘙𝘰𝘶𝘵𝘦𝘳(𝘤𝘰𝘯𝘧𝘪𝘨-𝘢𝘳𝘤𝘩𝘪𝘷𝘦)#𝘱𝘢𝘵𝘩 𝘵𝘧𝘵𝘱://10.10.10.10/$𝘩-$𝘵
𝘙𝘰𝘶𝘵𝘦𝘳(𝘤𝘰𝘯𝘧𝘪𝘨-𝘢𝘳𝘤𝘩𝘪𝘷𝘦)#𝘸𝘳𝘪𝘵𝘦-𝘮𝘦𝘮𝘰𝘳𝘺 #сақталғанда көшіру
𝘙𝘰𝘶𝘵𝘦𝘳(𝘤𝘰𝘯𝘧𝘪𝘨-𝘢𝘳𝘤𝘩𝘪𝘷𝘦)#𝘵𝘪𝘮𝘦-𝘱𝘦𝘳𝘪𝘰𝘥 10080 #Уақытпен көшіру, өлшемі минут
𝘙𝘰𝘶𝘵𝘦𝘳#𝘴𝘩𝘰𝘸 𝘢𝘳𝘤𝘩𝘪𝘷𝘦
3. Kron командаларды жоспарлаушы көмегімен біз желі құрылғыларының конфигурацияларын бір рет немесе белгілі бір жиілікте көшіре аламыз:
𝘙𝘰𝘶𝘵𝘦𝘳(𝘤𝘰𝘯𝘧𝘪𝘨)#𝘬𝘳𝘰𝘯 𝘱𝘰𝘭𝘪𝘤𝘺-𝘭𝘪𝘴𝘵 𝘊𝘖𝘕𝘍𝘐𝘎𝘜𝘙𝘈𝘛𝘐𝘖𝘕_𝘉𝘈𝘊𝘒𝘜𝘗
𝘙𝘰𝘶𝘵𝘦𝘳(𝘤𝘰𝘯𝘧𝘪𝘨-𝘬𝘳𝘰𝘯-𝘱𝘰𝘭𝘪𝘤𝘺)#𝘤𝘭𝘪 𝘸𝘳𝘪𝘵𝘦 𝘮𝘦𝘮𝘰𝘳𝘺
𝘙𝘰𝘶𝘵𝘦𝘳(𝘤𝘰𝘯𝘧𝘪𝘨)#𝘬𝘳𝘰𝘯 𝘰𝘤𝘤𝘶𝘳𝘳𝘦𝘯𝘤𝘦 𝘉𝘢𝘤𝘬𝘶𝘱 𝘉𝘈𝘊𝘒𝘜𝘗_𝘖𝘊𝘊𝘜𝘙𝘙𝘌𝘕𝘊𝘌 𝘢𝘵 9:00 25 𝘳𝘦𝘤𝘶𝘳𝘳𝘪𝘯𝘨
𝘙𝘰𝘶𝘵𝘦𝘳(𝘤𝘰𝘯𝘧𝘪𝘨-𝘬𝘳𝘰𝘯-𝘰𝘤𝘤𝘶𝘳𝘳𝘦𝘯𝘤𝘦)#𝘱𝘰𝘭𝘪𝘤𝘺-𝘭𝘪𝘴𝘵 𝘊𝘖𝘕𝘍𝘐𝘎𝘜𝘙𝘈𝘛𝘐𝘖𝘕_𝘉𝘈𝘊𝘒𝘜𝘗
𝘙𝘰𝘶𝘵𝘦𝘳#𝘴𝘩𝘰𝘸 𝘬𝘳𝘰𝘯 𝘴𝘤𝘩𝘦𝘥𝘶𝘭𝘦 #Тексеру
𝗝𝘂𝗻𝗶𝗽𝗲𝗿 вендорының желілік құрылғыларында:
1. Конфигурацияны сақтау командасы еңгізілгенде немесе белгілі бір уақыт мезгілінде конфигурацияны автоматты резервтік көшіру:
𝘶𝘴𝘦𝘳@𝘥𝘦𝘷𝘪𝘤𝘦# 𝘴𝘩𝘰𝘸 𝘴𝘺𝘴𝘵𝘦𝘮 
 𝘢𝘳𝘤𝘩𝘪𝘷𝘢𝘭 {
  𝘤𝘰𝘯𝘧𝘪𝘨𝘶𝘳𝘢𝘵𝘪𝘰𝘯 {
  𝘵𝘳𝘢𝘯𝘴𝘧𝘦𝘳-𝘰𝘯-𝘤𝘰𝘮𝘮𝘪𝘵; #конфигурацияны сақтау кезінде
  𝘵𝘳𝘢𝘯𝘴𝘧𝘦𝘳-𝘪𝘯𝘵𝘦𝘳𝘷𝘢𝘭 15; #еңгізілген уақыт аралығында
  𝘢𝘳𝘤𝘩𝘪𝘷𝘦-𝘴𝘪𝘵𝘦𝘴 {
  "𝘧𝘵𝘱://𝘶𝘴𝘦𝘳𝘯𝘢𝘮𝘦@10.10.10.10:21/𝘣𝘢𝘤𝘬𝘶𝘱𝘯𝘦𝘵𝘸𝘰𝘳𝘬" 𝘱𝘢𝘴𝘴𝘸𝘰𝘳𝘥 
  "𝘝𝘦𝘙𝘺$𝘵𝘳0𝘯𝘎"; 
    }
  }
}
2. Құрлығы конфигурацияларын белгілі бір уақыт жиілігінде көшіру:
𝘶𝘴𝘦𝘳@𝘥𝘦𝘷𝘪𝘤𝘦# 𝘳𝘶𝘯 𝘴𝘩𝘰𝘸 𝘤𝘰𝘯𝘧𝘪𝘨𝘶𝘳𝘢𝘵𝘪𝘰𝘯 𝘦𝘷𝘦𝘯𝘵-𝘰𝘱𝘵𝘪𝘰𝘯𝘴 
𝘨𝘦𝘯𝘦𝘳𝘢𝘵𝘦-𝘦𝘷𝘦𝘯𝘵 {
   𝘵𝘦𝘴𝘵_𝘫𝘵𝘢𝘤_𝘦𝘷𝘦𝘯𝘵 𝘵𝘪𝘮𝘦-𝘰𝘧-𝘥𝘢𝘺 "12:18:00 +0530"; #Нақты уақытты 
таңдау
}
𝘱𝘰𝘭𝘪𝘤𝘺 𝘱𝘰𝘭𝘪𝘤𝘺_𝘫𝘵𝘢𝘤 {
    𝘦𝘷𝘦𝘯𝘵𝘴 𝘵𝘦𝘴𝘵_𝘫𝘵𝘢𝘤_𝘦𝘷𝘦𝘯𝘵;
    𝘵𝘩𝘦𝘯 {
   𝘶𝘱𝘭𝘰𝘢𝘥 𝘧𝘪𝘭𝘦𝘯𝘢𝘮𝘦 /𝘤𝘰𝘯𝘧𝘪𝘨/𝘫𝘶𝘯𝘪𝘱𝘦𝘳.𝘤𝘰𝘯𝘧.𝘨𝘻 𝘥𝘦𝘴𝘵𝘪𝘯𝘢𝘵𝘪𝘰𝘯 
   𝘧𝘵𝘱_𝘴𝘦𝘳𝘷𝘦𝘳; #Көшіру ережесін даярлау
   }
 }
𝘥𝘦𝘴𝘵𝘪𝘯𝘢𝘵𝘪𝘰𝘯𝘴 {
    𝘧𝘵𝘱_𝘴𝘦𝘳𝘷𝘦𝘳 {
      𝘢𝘳𝘤𝘩𝘪𝘷𝘦-𝘴𝘪𝘵𝘦𝘴 {
        "𝘧𝘵𝘱://𝘶𝘴𝘦𝘳𝘯𝘢𝘮𝘦@10.10.10.10:21/𝘣𝘢𝘤𝘬𝘶𝘱𝘯𝘦𝘵𝘸𝘰𝘳𝘬" 𝘱𝘢𝘴𝘴𝘸𝘰𝘳𝘥 "𝘝𝘦𝘙𝘺$𝘵𝘳0𝘯𝘎"; #Арнайы бэкап сервері
    }
  }
}
   𝗛𝘂𝗮𝘄𝗲𝗶 вендорының желілік құрылғыларында:
1. Белгілі бір уақты аралығында желі құрылғыларының конфигурациясын сақтау:
  configuration file auto-save backup-to-server server server-ip [ vpn-instance vpn-instance-name ] transport-type { { ftp | sftp } user user-name password password | tftp } [ path folder ]
   Тағыда басқа желі құрылғыларының шешімдері бар, ол жайлы вендордың құжатнамасынан қарасаңыздар болады.

  Желі құрылғыларының конфигурациясын көшірудің ең ыңғаилы жолы RANCID арқылы. RANCID желі құрылғылардың конфигурациясын көшіріп қана қоимаи соның ішінде бағдарламалық жасақтама мен аппараттық құрал және өзгерту тарихын жүргізу үшін CVS, Subversion немесе Git паидаланады.
RANCID келесідеи қарапаиым процесс арқылы жасаиды: 
• router.db(құрылғылар тізімі) кестесіндегі әрбір құрылғыға кіріп конфигурациясын көшіреді,
• құрылғыдан аппараттық ақпарат алу үшін әртүрлі командаларды орындаиды,
• электрондық пошта арқылы кез-келген өзгерістер жаилы ескерту,
• көшірілген конфигурацияда болған өзгерістердің басқару жүиесінің болуы, әдетте 5-10 түрін сақтаиды;
   Қандаи құрылғыларды қолдайтынын келесі сілтемеден көрсеңіздер болады:
https://github.com/haussli/rancid/blob/master/etc/rancid.types.base
   RANCID жасақтамасын Observium желіні бақылау және басқару платформасымен бірге интеграциялап жасау таптырмас шешім, баптаулары келесі сілтемеде:
https://docs.observium.org/rancid/
